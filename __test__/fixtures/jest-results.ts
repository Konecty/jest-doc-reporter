import { AggregatedResult } from '@jest/test-result';

const mockedJestResponseBase: AggregatedResult = {
	numFailedTestSuites: 1,
	numFailedTests: 1,
	numPassedTestSuites: 0,
	numPassedTests: 0,
	numPendingTestSuites: 0,
	numPendingTests: 0,
	numRuntimeErrorTestSuites: 0,
	numTodoTests: 0,
	numTotalTestSuites: 1,
	numTotalTests: 1,
	openHandles: [],
	snapshot: {
		added: 0,
		didUpdate: false,
		failure: false,
		filesAdded: 0,
		filesRemoved: 0,
		filesRemovedList: [],
		filesUnmatched: 0,
		filesUpdated: 0,
		matched: 0,
		total: 0,
		unchecked: 2,
		uncheckedKeysByFile: [
			{
				filePath: 'index-a.js',
				keys: ['test', 'test2'],
			},
		],
		unmatched: 0,
		updated: 0,
	},
	startTime: 1584892601719,
	success: false,
	testResults: [],
	wasInterrupted: false,
	coverageMap: null,
};

export const mockedJestResponseSingleTestResult: AggregatedResult = {
	...mockedJestResponseBase,
	testResults: [
		{
			console: undefined,
			failureMessage: null,
			numFailingTests: 1,
			numPassingTests: 0,
			numPendingTests: 0,
			numTodoTests: 0,
			perfStats: {
				start: 1498476492,
				end: 1498476650,
				runtime: 1498476650 - 1498476492,
				slow: true,
			},
			snapshot: {
				added: 0,
				fileDeleted: false,
				matched: 0,
				unmatched: 0,
				updated: 0,
				unchecked: 0,
				uncheckedKeys: [],
			},
			testFilePath: '/mocked/path/to/test.ts',
			skipped: false,
			displayName: undefined,
			leaks: false,
			coverage: undefined,
			openHandles: [],
			testResults: [
				{
					title: 'Test name 1',
					status: 'passed',
					ancestorTitles: ['Suit name'],
					failureMessages: [],
					failureDetails: [],
					numPassingAsserts: 0,
					fullName: 'Suit name Test name 1',
					location: null,
					duration: 1,
				},
				{
					title: 'Test name 2',
					status: 'failed',
					ancestorTitles: ['Suit name'],
					failureMessages: [],
					failureDetails: [],
					numPassingAsserts: 0,
					fullName: 'Suit name Test name 2',
					location: null,
					duration: 2,
				},
				{
					title: 'Test name 3',
					status: 'pending',
					ancestorTitles: ['Suit name'],
					failureMessages: ['failure'],
					failureDetails: ['failure detail'],
					numPassingAsserts: 0,
					fullName: 'Suit name Test name 3',
					location: null,
					duration: 3,
				},
			],
		},
	],
};

export const mockedJestResponseMultipleTestResult: AggregatedResult = {
	...mockedJestResponseBase,
	testResults: [
		{
			numFailingTests: 0,
			numPassingTests: 3,
			numPendingTests: 0,
			console: undefined,
			failureMessage: null,
			numTodoTests: 0,
			snapshot: {
				added: 0,
				fileDeleted: false,
				matched: 0,
				unmatched: 0,
				updated: 0,
				unchecked: 2,
				uncheckedKeys: ['test', 'test2'],
			},
			skipped: false,
			displayName: undefined,
			leaks: false,

			coverage: undefined,
			openHandles: [],
			testResults: [
				{
					title: 'title b',
					status: 'passed',
					ancestorTitles: ['Suit name 1'],
					failureMessages: [],
					failureDetails: [],
					numPassingAsserts: 0,
					fullName: 'Test name 1',
					location: null,
					duration: 3,
				},
				{
					title: 'title c',
					status: 'passed',
					ancestorTitles: ['Suit name 1'],
					failureMessages: [],
					failureDetails: [],
					numPassingAsserts: 0,
					fullName: 'Test name 2',
					location: null,
					duration: 3,
				},
				{
					title: 'title a',
					status: 'passed',
					ancestorTitles: ['Suit name 1'],
					failureMessages: [],
					failureDetails: [],
					numPassingAsserts: 0,
					fullName: 'Test name 3',
					location: null,
					duration: 3,
				},
			],
			perfStats: {
				start: 1498476492,
				end: 1498476640,
				runtime: 1498476640 - 1498476492,
				slow: false,
			},
			testFilePath: 'index-a.js',
		},
		{
			numFailingTests: 1,
			numPassingTests: 1,
			numPendingTests: 1,
			console: undefined,
			failureMessage: null,
			numTodoTests: 0,
			snapshot: {
				added: 0,
				fileDeleted: false,
				matched: 0,
				unmatched: 0,
				updated: 0,
				unchecked: 0,
				uncheckedKeys: [],
			},
			skipped: false,
			displayName: undefined,
			leaks: false,

			coverage: undefined,
			openHandles: [],
			testResults: [
				{
					title: 'title b',
					status: 'pending',
					ancestorTitles: ['Suite name 2'],
					failureMessages: [],
					failureDetails: [],
					numPassingAsserts: 0,
					fullName: 'test 1',
					location: null,
					duration: 3,
				},
				{
					title: 'title c',
					status: 'failed',
					ancestorTitles: ['Suite name 2', 'Sub suite 1'],
					failureMessages: ['failure'],
					failureDetails: ['failure detail'],
					numPassingAsserts: 0,
					fullName: 'test 2',
					location: null,
					duration: 3,
				},
				{
					title: 'title a',
					status: 'passed',
					ancestorTitles: ['Suite name 2'],
					failureMessages: [],
					failureDetails: [],
					numPassingAsserts: 0,
					fullName: 'test 3',
					location: null,
					duration: 3,
				},
			],
			perfStats: {
				start: 1498476492,
				end: 1498476639,
				runtime: 1498476639 - 1498476492,
				slow: false,
			},
			testFilePath: 'index-b.js',
		},
		{
			numFailingTests: 1,
			numPassingTests: 1,
			numPendingTests: 1,
			console: undefined,
			failureMessage: null,
			numTodoTests: 0,
			snapshot: {
				added: 0,
				fileDeleted: false,
				matched: 0,
				unmatched: 0,
				updated: 0,
				unchecked: 0,
				uncheckedKeys: [],
			},
			skipped: false,
			displayName: undefined,
			leaks: false,

			coverage: undefined,
			openHandles: [],
			testResults: [
				{
					title: 'title a',
					status: 'pending',
					ancestorTitles: ['Suite name 3'],
					failureMessages: [],
					failureDetails: [],
					numPassingAsserts: 0,
					fullName: 'Test name 1',
					location: null,
					duration: 3,
				},
				{
					title: 'title c',
					status: 'failed',
					ancestorTitles: ['Suite name 3'],
					failureMessages: ['failure'],
					failureDetails: ['failure detail'],
					numPassingAsserts: 0,
					fullName: 'Test name 2',
					location: null,
					duration: 3,
				},
				{
					title: 'title b',
					status: 'passed',
					ancestorTitles: ['Suite name 3'],
					failureMessages: [],
					failureDetails: [],
					numPassingAsserts: 0,
					fullName: 'Test name 3',
					location: null,
					duration: 3,
				},
			],
			perfStats: {
				start: 1498476492,
				end: 1498476650,
				runtime: 1498476650 - 1498476492,
				slow: false,
			},
			testFilePath: 'index-c.js',
		},
		{
			numFailingTests: 0,
			numPassingTests: 0,
			numPendingTests: 0,
			console: undefined,
			failureMessage: '  \u001b[1m‚óè \u001b[22mTest suite failed to run\n\n    SyntaxError',
			numTodoTests: 0,
			snapshot: {
				added: 0,
				fileDeleted: false,
				matched: 0,
				unmatched: 0,
				updated: 0,
				unchecked: 0,
				uncheckedKeys: [],
			},
			skipped: false,
			displayName: undefined,
			leaks: false,

			coverage: undefined,
			openHandles: [],
			testResults: [],
			perfStats: {
				start: 0,
				end: 0,
				runtime: 0,
				slow: false,
			},
			testFilePath: 'index-d.js',
		},
	],
};
